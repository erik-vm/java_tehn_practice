Teooriaküsimused

  Teooriaküsimustele saate vastata 15 minuti jooksul alates eksami algusest (12:00).
  Muudatused, mis on tehtud hiljem kui 12:15 ei lähe arvesse.

  Vastused kirjutage siia samasse faili küsimuse alla.
  Iga küsimuse vastus peab jääma alla 200 märgi.
  Iga küsimus annab kuni 7 punkti.

  1. Mis probleemi lahendab sõltuvuste süstimise (Dependency Injection) tehnika?

    ... Vastus ...

  2. Mis on ühenduste pooli (connection pool) peamine eesmärk?

  ... Vastus ...

  3. Json-it sisaldavat sõne ei peaks manuaalselt töötlema. Miks?

  ... Vastus ...

  4. Mis on Jpa peamine eesmärk.

  ... Vastus ...

Ülesanne 1 (24 punkti)

  Paketis "servlet" on üks servlet ja kolm abiklassi. Muutke neid klasse nii,
  et POST ja PUT päringud aadressile /transform arvutaks sisendi põhjal väärtuse.

      POST päring
        Sisend: {"key1": [{"key2": 2}, {"key2": 5}, {"key2": 3}]}
        Väljund: 10.

  Ehk rakendus tagastab kõik "key2" välja väärtused kokku liidetuna (2 + 5 + 3 = 10).

      PUT päring
        Sisend: {"key1": [{"key2": 2}, {"key2": 5}, {"key2": 3}]}
        Väljund: [{"key2Values":[2,5,3]}].

  Ehk rakendus tagastab kõik "key2" välja väärtused näidatud kujul.

  Sisendi ja väljundi töötluseks peate kasutama mingit teeki (nt. ObjectMapper).

  NB! Nõuded, mille eiramisel lahendust ei arvestatata.
     - Teksti käsitsi töötlemine (split, replace, match jne) ei ole lubatud.
     - Uusi klasse luua ei või. Klasse A, B ja C võite kasutatda, milleks iganes.
     - Rakendus peab läbima testid klassist ServletTest.

Ülesanne 1 (15 punkti)

  Paketis "jdbc" on kood, mis peaks sisestama tellimuse ja tellimuse read
  aga see kood ei tööta. Teie ülesanne on kood korda teha, nii et koodi üldine
  struktuur samaks jääb.

  Andmebaasi skeem on failis schema.sql.

  NB! Nõuded, mille eiramisel lahendust ei arvestatata.
     - Tellimuse id ja number peavad tulema andmebaasist.
     - Kõik päringud peavad käima läbi sama ühenduse.
     - Muuta võite vaid klassi OrderDao.
     - Kasutama peate olemasolevaid meetodeid insertOrder()
       ja insertOrderRow(), muutes vaid meetodite sees olevat koodi.
     - Tellimuse read tuleb sisestada läbi insertOrderRow() meetodi.
     - Kood peab läbima testid klassist JdbcTest.

   Proovimiseks on klass Main või JdbcTest.

Ülesanne 3 (8 punkti)

  Paketis "security" on Spring Security rakendus ühe kontrolleriga.

  Kui kasutajal on vastav õigus, siis peaks GET päring aadressile /security/users/{userName}/info
  õnnestuma. Kui õigust pole, siis peaks vastama koodiga 401 või 403.

  Kasutaja Bob peab nägema ainut enda infot ja Alice kõigi kasutajate infot.

  Õiguse saamiseks peab kasutaja sisse logima. Sisselogimiseks on vaja saata
  POST päring aadressile /security/login ja selle päringu päises (header) peab olema
  väli "X-token" sobiva väärtusega. Klassis TokenToUserMapper on kirjas milline
  token millisele kasutajale vastab.

  Muutke klasse A, B ja C nii, et rakendus tööle hakkaks.

  NB! Nõuded, mille eiramisel lahendust ei arvestatata.
    - Muuta võite ainult klasse A, B ja C.
    - Rakendus peab läbima testid klassist SecurityTest.
